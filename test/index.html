<html>

<head>
    <script>
        document.querySelector('form').addEventListener('submit', (e) => {
            e.preventDefault();

            const file = document.querySelector('input[type="file"]').files[0];
            const formData = new FormData();
            formData.append('file', file);

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
                .then(response => response.text())
                .then(result => {
                    // Handle the result returned by the server
                    console.log(result);
                })
                .catch(error => {
                    // Handle any errors
                    console.error(error);
                });
        });
    </script>
</head>

<body>
    Uploading file by executing a Python script
    <form action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file">
        <input type="submit" value="Upload">
      </form>
    </form>
</body>

</html>